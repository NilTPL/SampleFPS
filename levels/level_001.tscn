[gd_scene load_steps=10 format=3 uid="uid://b1yleqbb8tc7x"]

[ext_resource type="PackedScene" uid="uid://btv0a42cgxt8g" path="res://levels/WE_test.tscn" id="1_db21n"]
[ext_resource type="Texture2D" uid="uid://dg5cub4pebg6c" path="res://textures/prototypeTextures/Orange/texture_02.png" id="3_p05hx"]
[ext_resource type="Texture2D" uid="uid://blwu62r7auiqw" path="res://textures/prototypeTextures/Dark/texture_04.png" id="3_y583q"]
[ext_resource type="Shader" path="res://shaders/postprocessingps1.gdshader" id="4_3hq1t"]
[ext_resource type="Material" uid="uid://cc8bkrnrtgxmo" path="res://materials/orange_grid.tres" id="4_lfpe5"]
[ext_resource type="PackedScene" uid="uid://c3ffql15mo0aj" path="res://controllers/fps_controller.tscn" id="4_liofc"]

[sub_resource type="StandardMaterial3D" id="StandardMaterial3D_fmf16"]
albedo_texture = ExtResource("3_y583q")
uv1_triplanar = true

[sub_resource type="StandardMaterial3D" id="StandardMaterial3D_itekt"]
albedo_texture = ExtResource("3_p05hx")

[sub_resource type="ShaderMaterial" id="ShaderMaterial_28pu2"]
shader = ExtResource("4_3hq1t")
shader_parameter/enabled = true
shader_parameter/dithering = true
shader_parameter/colors = 32
shader_parameter/dither_size = 2

[node name="Node3D" type="Node3D"]

[node name="WorldEnvironment" parent="." instance=ExtResource("1_db21n")]

[node name="Floor" type="CSGBox3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, -0.25, 3)
material_override = SubResource("StandardMaterial3D_fmf16")
use_collision = true
size = Vector3(1000, 0.5, 1000)

[node name="Geometry" type="Node3D" parent="."]

[node name="CrouchPlatforms" type="CSGCombiner3D" parent="Geometry"]
material_override = SubResource("StandardMaterial3D_itekt")
use_collision = true

[node name="StandPlatform" type="CSGBox3D" parent="Geometry/CrouchPlatforms"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 2.05, -3)
size = Vector3(2, 0.1, 2)

[node name="CrouchPlatform" type="CSGBox3D" parent="Geometry/CrouchPlatforms"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 2, 1.75, -3)
size = Vector3(2, 0.1, 2)

[node name="CrouchPlatform2" type="CSGBox3D" parent="Geometry/CrouchPlatforms"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 4, 1.5548, -3)
size = Vector3(2, 0.1, 2)

[node name="CrouchJumpPlatform2" type="CSGBox3D" parent="Geometry/CrouchPlatforms"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 6, 1.25, -3)
size = Vector3(2, 0.1, 2)

[node name="JumpPlatform" type="CSGBox3D" parent="Geometry/CrouchPlatforms"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 8, 1, -3)
size = Vector3(2, 0.1, 2)

[node name="Stair" type="CSGCombiner3D" parent="Geometry"]
material_override = ExtResource("4_lfpe5")
use_collision = true

[node name="Stair" type="CSGBox3D" parent="Geometry/Stair"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 1.99998, 2, 6)
size = Vector3(10, 4, 8)

[node name="StairClipper" type="CSGBox3D" parent="Geometry/Stair"]
transform = Transform3D(0.707107, 0.707107, 0, -0.707107, 0.707107, 0, 0, 0, 1, -1.57, 3.255, 4)
operation = 2
size = Vector3(4, 7.09088, 4)

[node name="HallwayClipper" type="CSGBox3D" parent="Geometry/Stair"]
transform = Transform3D(0.866025, 0, -0.5, 0, 1, 0, 0.5, 0, 0.866025, 0.12132, 1.75, 8.96243)
operation = 2
size = Vector3(10, 3.5, 3)

[node name="BackClipper" type="CSGCylinder3D" parent="Geometry/Stair"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 7.5, 1, 5.5)
operation = 2
radius = 2.6
height = 4.0
sides = 16

[node name="Arch" type="CSGCombiner3D" parent="Geometry"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 2, 0, 0)
material_override = ExtResource("4_lfpe5")
use_collision = true

[node name="Tunnel" type="CSGBox3D" parent="Geometry/Arch"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 1, 2, 0)
size = Vector3(8, 4, 4)

[node name="TunnelClipper" type="CSGBox3D" parent="Geometry/Arch"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 1, 0.960693, 0)
operation = 2
size = Vector3(12, 2.07861, 2)

[node name="ArchClipper" type="CSGCylinder3D" parent="Geometry/Arch"]
transform = Transform3D(-4.37114e-08, -1, 0, 1, -4.37114e-08, 0, 0, 0, 1, 1.34797, 2.00731, 0)
operation = 2
radius = 1.0
height = 10.0
sides = 32

[node name="DirectionalLight3D" type="DirectionalLight3D" parent="."]
transform = Transform3D(-0.743841, 0.404659, -0.531932, -0.155327, 0.669425, 0.72646, 0.650057, 0.622994, -0.435091, -5.10478, 17.1795, -32.4271)
light_energy = 0.5
shadow_enabled = true

[node name="SubViewportContainer" type="SubViewportContainer" parent="."]
material = SubResource("ShaderMaterial_28pu2")
anchors_preset = 15
anchor_right = 1.0
anchor_bottom = 1.0
grow_horizontal = 2
grow_vertical = 2
stretch = true

[node name="SubViewport" type="SubViewport" parent="SubViewportContainer"]
handle_input_locally = false
size = Vector2i(864, 648)
render_target_update_mode = 4

[node name="CharacterBody3D" parent="SubViewportContainer/SubViewport" instance=ExtResource("4_liofc")]
transform = Transform3D(0.241685, 0, -0.970355, 0, 1, 0, 0.970355, 0, 0.241685, -8.43082, 0, 3.90714)
