[gd_scene load_steps=10 format=3 uid="uid://b1yleqbb8tc7x"]

[ext_resource type="PackedScene" uid="uid://btv0a42cgxt8g" path="res://levels/WE_test.tscn" id="1_db21n"]
[ext_resource type="Texture2D" uid="uid://dg5cub4pebg6c" path="res://textures/prototypeTextures/Orange/texture_02.png" id="3_p05hx"]
[ext_resource type="Texture2D" uid="uid://blwu62r7auiqw" path="res://textures/prototypeTextures/Dark/texture_04.png" id="3_y583q"]
[ext_resource type="Shader" path="res://shaders/postprocessingps1.gdshader" id="4_3hq1t"]
[ext_resource type="Material" uid="uid://cc8bkrnrtgxmo" path="res://materials/orange_grid.tres" id="4_lfpe5"]
[ext_resource type="PackedScene" uid="uid://x3l0v6tbskoe" path="res://controllers/Player.tscn" id="6_dp14t"]

[sub_resource type="StandardMaterial3D" id="StandardMaterial3D_fmf16"]
albedo_texture = ExtResource("3_y583q")
uv1_triplanar = true

[sub_resource type="StandardMaterial3D" id="StandardMaterial3D_itekt"]
albedo_texture = ExtResource("3_p05hx")

[sub_resource type="ShaderMaterial" id="ShaderMaterial_28pu2"]
shader = ExtResource("4_3hq1t")
shader_parameter/enabled = true
shader_parameter/dithering = true
shader_parameter/colors = 32
shader_parameter/dither_size = 2

[node name="Node3D" type="Node3D"]

[node name="WorldEnvironment" parent="." instance=ExtResource("1_db21n")]

[node name="Floor" type="CSGBox3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, -0.25, 3)
material_override = SubResource("StandardMaterial3D_fmf16")
use_collision = true
size = Vector3(1000, 0.5, 1000)

[node name="Geometry" type="Node3D" parent="."]

[node name="CrouchPlatforms" type="CSGCombiner3D" parent="Geometry"]
material_override = SubResource("StandardMaterial3D_itekt")
use_collision = true

[node name="StandPlatform" type="CSGBox3D" parent="Geometry/CrouchPlatforms"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 2.05, -3)
size = Vector3(2, 0.1, 2)

[node name="CrouchPlatform" type="CSGBox3D" parent="Geometry/CrouchPlatforms"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 2, 1.75, -3)
size = Vector3(2, 0.1, 2)

[node name="CrouchPlatform2" type="CSGBox3D" parent="Geometry/CrouchPlatforms"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 4, 1.5548, -3)
size = Vector3(2, 0.1, 2)

[node name="CrouchJumpPlatform2" type="CSGBox3D" parent="Geometry/CrouchPlatforms"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 6, 0.66, -3)
size = Vector3(2, 1.35, 2)

[node name="JumpPlatform" type="CSGBox3D" parent="Geometry/CrouchPlatforms"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 8, -0.0499999, -3)
size = Vector3(2, 2.5, 2)

[node name="CrouchJumpPlatform3" type="CSGBox3D" parent="Geometry/CrouchPlatforms"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 6, 0.675, -12)
size = Vector3(2, 1.35, 2)

[node name="JumpPlatform2" type="CSGBox3D" parent="Geometry/CrouchPlatforms"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 8, 0.6, -12)
size = Vector3(2, 1.2, 2)

[node name="CSGBox3D" type="CSGBox3D" parent="Geometry/CrouchPlatforms"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 10, 0.6, -12)
size = Vector3(2, 1.2, 2)

[node name="CSGBox3D2" type="CSGBox3D" parent="Geometry/CrouchPlatforms"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 12, 0.6, -12)
size = Vector3(2, 1.2, 2)

[node name="Stair" type="CSGCombiner3D" parent="Geometry"]
material_override = ExtResource("4_lfpe5")
use_collision = true

[node name="Stair" type="CSGBox3D" parent="Geometry/Stair"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -1.25002, 2, 6)
size = Vector3(16.5, 4, 8)

[node name="OutsideClipper" type="CSGBox3D" parent="Geometry/Stair"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -7.15973, 2, 7.22169)
operation = 2
size = Vector3(5.5, 4, 12)

[node name="StairClipper" type="CSGBox3D" parent="Geometry/Stair"]
transform = Transform3D(0.5, 0.866025, 0, -0.866025, 0.5, 0, 0, 0, 1, -0.606193, 4.21736, 3.79645)
operation = 2
size = Vector3(4, 11, 4)

[node name="Arch" type="CSGCombiner3D" parent="Geometry"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 2, 0, 0)
material_override = ExtResource("4_lfpe5")
use_collision = true

[node name="Tunnel" type="CSGBox3D" parent="Geometry/Arch"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 1, 1.75, 0)
size = Vector3(8, 3.5, 4)

[node name="TunnelClipper" type="CSGBox3D" parent="Geometry/Arch"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 1, 0.960693, 0)
operation = 2
size = Vector3(12, 2.07861, 2)

[node name="ArchClipper" type="CSGCylinder3D" parent="Geometry/Arch"]
transform = Transform3D(-4.37114e-08, -1, 0, 1, -4.37114e-08, 0, 0, 0, 1, 1.34797, 2.00731, 0)
operation = 2
radius = 1.0
height = 10.0
sides = 32

[node name="DirectionalLight3D" type="DirectionalLight3D" parent="."]
transform = Transform3D(-0.743841, 0.404659, -0.531932, -0.155327, 0.669425, 0.72646, 0.650057, 0.622994, -0.435091, -5.10478, 17.1795, -32.4271)
light_energy = 0.5
shadow_enabled = true

[node name="SubViewportContainer" type="SubViewportContainer" parent="."]
material = SubResource("ShaderMaterial_28pu2")
anchors_preset = 15
anchor_right = 1.0
anchor_bottom = 1.0
grow_horizontal = 2
grow_vertical = 2
stretch = true

[node name="SubViewport" type="SubViewport" parent="SubViewportContainer"]
handle_input_locally = false
size = Vector2i(864, 648)
render_target_update_mode = 4

[node name="Player" parent="SubViewportContainer/SubViewport" instance=ExtResource("6_dp14t")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 8, 0, -8)
is_enabled_stair_stepping_in_air = false
